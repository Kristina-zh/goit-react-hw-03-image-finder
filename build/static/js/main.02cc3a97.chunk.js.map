{"version":3,"sources":["components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/services/api.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Button/Button.js","components/App/App.js","index.js","components/SearchBar/SearchBar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","fetchImages","searchQuery","pageNumber","key","axios","get","SearchBar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","s","Searchbar","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","src","handleClick","imgURL","onClick","role","alt","ImageGallery","images","map","el","id","webformatURL","largeImageURL","Loader","loader","color","height","width","Modal","backdropRef","createRef","handleKeyPress","keyCode","onClose","handleBackdropClick","current","currentTarget","window","addEventListener","removeEventListener","Overlay","ref","Button","loadMore","div","button","App","isLoading","isOpen","openModal","closeModal","searchImages","API","then","res","data","hits","catch","err","console","log","finally","setTimeout","prProps","prState","length","scrollTo","top","document","documentElement","scrollHeight","behavior","defaultProp","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.02cc3a97.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\",\"div\":\"Button_div__1FhIl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1C-z-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","import axios from 'axios';\n\nexport const fetchImages = (\n  searchQuery = '',\n  pageNumber = 1,\n  key = '14428730-a14e9bfed32119aa413126b46',\n) => {\n  return axios.get(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${pageNumber}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n\nexport const someFunc = () => {};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './SearchBar.module.css';\n\nexport default class SearchBar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const { query } = this.state;\n    this.props.onSubmit(query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            value={query}\n            onChange={this.handleChange}\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import React from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ src, handleClick, imgURL }) => {\n  return (\n    <li\n      onClick={() => handleClick(imgURL)}\n      className={s.ImageGalleryItem}\n      role=\"presentation\"\n    >\n      <img src={src} alt=\"\" className=\"ImageGalleryItem-image\" />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, handleClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(el => (\n        <ImageGalleryItem\n          key={el.id}\n          src={el.webformatURL}\n          imgURL={el.largeImageURL}\n          handleClick={handleClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport LoaderComponent from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={s.loader}>\n      <LoaderComponent type=\"Puff\" color=\"gray\" height={100} width={100} />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nexport default class Modal extends Component {\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.keyCode !== 27) {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n    if (current && e.target !== e.currentTarget) return;\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { images, imgURL } = this.props;\n    return (\n      <div\n        onClick={this.handleBackdropClick}\n        className={s.Overlay}\n        role=\"presentation\"\n        ref={this.backdropRef}\n      >\n        <div className={s.Modal}>\n          {images.map(el => (\n            <img key={el.id} src={imgURL} alt=\"\" />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ loadMore }) => {\n  return (\n    <div className={s.div}>\n      <button type=\"button\" onClick={loadMore} className={s.button}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  loadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as API from '../services/api';\nimport SearchBar from '../SearchBar/SearchBar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Loader from '../Loader/Loader';\nimport Modal from '../Modal/Modal';\nimport Button from '../Button/Button';\n\nexport default class App extends Component {\n  state = {\n    imgURL: '',\n    images: [],\n    isLoading: false,\n    pageNumber: 1,\n    isOpen: false,\n    query: '',\n  };\n\n  componentDidMount() {\n    const { pageNumber, query } = this.state;\n    this.searchImages(query, pageNumber);\n  }\n\n  componentDidUpdate(prProps, prState) {\n    const { images } = this.state;\n    if (prState.images !== images && images.length > 12) {\n      setTimeout(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      }, 1000);\n    }\n  }\n\n  openModal = imgURL => this.setState({ isOpen: true, imgURL });\n\n  closeModal = () => this.setState({ isOpen: false });\n\n  searchImages = query => {\n    this.setState({ isLoading: true, query });\n\n    API.fetchImages(query)\n      .then(res =>\n        this.setState({\n          images: res.data.hits,\n        }),\n      )\n      .catch(err => console.log(err))\n      .finally(() => {\n        setTimeout(() => {\n          this.setState({ isLoading: false });\n        }, 1000);\n      });\n  };\n\n  loadMore = () => {\n    console.log('click');\n    const { query, pageNumber } = this.state;\n    this.setState({\n      isLoading: true,\n    });\n\n    API.fetchImages(query, pageNumber + 1)\n      .then(res =>\n        this.setState(state => ({\n          images: [...state.images, ...res.data.hits],\n          pageNumber: state.pageNumber + 1,\n        })),\n      )\n      .catch(err => console.log(err))\n      .finally(() => {\n        setTimeout(() => {\n          this.setState({ isLoading: false });\n        }, 1000);\n      });\n  };\n\n  render() {\n    const { images, isLoading, isOpen, imgURL } = this.state;\n    return (\n      <>\n        <SearchBar onSubmit={this.searchImages} />\n        <ImageGallery images={images} handleClick={this.openModal} />\n        {isLoading && <Loader />}\n        {isOpen && (\n          <Modal onClose={this.closeModal} images={images} imgURL={imgURL} />\n        )}\n        <Button loadMore={this.loadMore} />\n      </>\n    );\n  }\n}\n\nApp.defaultProp = {\n  imgURL: '',\n};\n\nApp.propTypes = {\n  imgURL: PropTypes.string,\n  isLoading: PropTypes.bool,\n  pageNumber: PropTypes.number,\n  isOpen: PropTypes.bool,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ),\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './styles.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__19WMJ\",\"SearchForm\":\"SearchBar_SearchForm__1k1JW\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3W9N5\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2bY4N\",\"SearchFormInput\":\"SearchBar_SearchFormInput__17jtp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};"],"sourceRoot":""}